{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karti\\\\Desktop\\\\reactjs_crash\\\\sublet-front\\\\src\\\\components\\\\userPostList-component.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class PostList extends Component {\n  constructor(props) {\n    super(props);\n    this.retrievePosts = this.retrievePosts.bind(this);\n    this.setActivePost = this.setActivePost.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.state = {\n      posts: [],\n      currentPost: null\n    };\n  }\n\n  componentDidMount() {\n    this.retrievePosts(this.props.match.params.id);\n  }\n\n  retrievePosts(id) {\n    console.log(id);\n    userService.getUserPosts(id).then(response => {\n      this.setState({\n        posts: response.data\n      });\n      console.log('empty' + response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  refreshList() {\n    this.retrievePosts(this.props.match.params.id);\n    this.setState({\n      currentPost: null\n    });\n  }\n\n  deletePost() {\n    userService.deletePost(this.state.currentPost.id).then(response => {\n      console.log(response.data);\n      this.props.history.push('/posts');\n      this.refreshList();\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  setActivePost(post) {\n    this.setState({\n      currentPost: post\n    });\n  }\n\n  render() {\n    const {\n      posts\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Posts List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: posts && posts.map(post => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item \",\n            onClick: () => this.setActivePost(post),\n            children: [\" \", post.title]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: this.state.currentPost ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Post details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 13\n            }, this), \" \", this.state.currentPost.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), \" \", this.state.currentPost.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: this.state.currentPost.postid,\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"m-3 btn btn-sm btn-danger\",\n            onClick: this.deletePost(),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please click on a Post..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/karti/Desktop/reactjs_crash/sublet-front/src/components/userPostList-component.js"],"names":["React","Component","Link","userService","PostList","constructor","props","retrievePosts","bind","setActivePost","deletePost","refreshList","state","posts","currentPost","componentDidMount","match","params","id","console","log","getUserPosts","then","response","setState","data","catch","e","history","push","post","render","map","title","description","postid"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport userService from \"../services/user-service\";\r\n\r\n\r\nexport default class PostList extends Component{\r\n\r\nconstructor(props)\r\n{\r\n    super(props);\r\n    this.retrievePosts = this.retrievePosts.bind(this);\r\n    this.setActivePost = this.setActivePost.bind(this);\r\n    this.deletePost = this.deletePost.bind(this);\r\n    this.refreshList = this.refreshList.bind(this);\r\n\r\n\r\n    this.state ={\r\n\r\n        posts:[],\r\n        currentPost: null,\r\n\r\n    };\r\n}\r\n\r\n\r\ncomponentDidMount()\r\n{\r\n  this.retrievePosts(this.props.match.params.id);\r\n}\r\n\r\nretrievePosts(id)\r\n{\r\nconsole.log(id);\r\nuserService.getUserPosts(id)\r\n.then(response =>\r\n    {\r\n        this.setState({\r\n            posts:response.data\r\n        });\r\n        console.log('empty'+response.data);\r\n    })\r\n    .catch(e =>  {\r\n        console.log(e);\r\n    });\r\n}\r\n\r\nrefreshList() {\r\n    this.retrievePosts(this.props.match.params.id);\r\n    this.setState({\r\n      currentPost: null\r\n    });\r\n  }\r\n\r\ndeletePost()\r\n{\r\nuserService.deletePost(this.state.currentPost.id)\r\n.then(response => {\r\n    console.log(response.data);\r\n    this.props.history.push('/posts')\r\n    this.refreshList();\r\n})\r\n.catch(e => {\r\n    console.log(e);\r\n});\r\n}\r\nsetActivePost(post) {\r\n    this.setState({\r\n      currentPost: post\r\n    });\r\n  }\r\n\r\nrender()\r\n{\r\n    const{posts} =this.state;\r\nreturn (\r\n    <div className=\"list row\">\r\n    <div className=\"col-md-6\">\r\n          <h4>Posts List</h4>\r\n          <ul className=\"list-group\">\r\n              {posts && posts.map(post => (\r\n                    <li key={post.id }className = \"list-group-item \" onClick={() => this.setActivePost(post)}> {post.title}</li>\r\n              ))}\r\n              </ul>\r\n    </div>\r\n\r\n    <div className=\"col-md-6\">\r\n        {this.state.currentPost ?(\r\n            <div>\r\n            <h4>Post details</h4>\r\n            <div>\r\n            <label>\r\n                  <strong>Title:</strong>\r\n                </label>{\" \"}\r\n                {this.state.currentPost.title}\r\n            </div>\r\n            <div>\r\n                <label>\r\n                  <strong>Description:</strong>\r\n                </label>{\" \"}\r\n                {this.state.currentPost.description}\r\n              </div>\r\n            \r\n            <Link\r\n                to={this.state.currentPost.postid}>\r\n                 {/* className=\"badge badge-dark badge-warning\" */}\r\n                Edit\r\n              </Link>\r\n\r\n\r\n          <button\r\n            className=\"m-3 btn btn-sm btn-danger\"\r\n            onClick={this.deletePost()}\r\n          >\r\n            Delete\r\n          </button>\r\n\r\n              </div>\r\n              ) : (\r\n                <div>\r\n                  <br />\r\n                  <p>Please click on a Post..</p>\r\n                </div>\r\n              )\r\n              }\r\n    </div>\r\n\r\n\r\n</div>\r\n);\r\n}\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}